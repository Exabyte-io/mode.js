- !combine
    name:
        template: "{{ parameters.functional }}{{ '-' + parameters.dispersionCorrection if parameters.dispersionCorrection }}{{ ' (SOC)' if parameters.spinOrbitCoupling }}{{ ' (' + parameters.spinPolarization + ')' if parameters.spinPolarization }}"
        substitutions:
            hse06: HSE
            dft-d3: D3
    forEach:
        - !parameter
            key: parameters.functional
            values: !esse "model/mixins/dft/enum-options#/hybrid/enum"
        - !parameter
            key: parameters.dispersionCorrection
            values: !esse "model/mixins/enum-options#/dispersionCorrection/enum"
            exclude: "^(?!.*dft-d3).*$"
            isOptional: true
        - !parameter
            key: parameters.spinOrbitCoupling
            values: [true]
            isOptional: true
        - !parameter
            key: parameters.spinPolarization
            values: !esse "model/mixins/enum-options#/spinPolarization/enum"
            exclude: "^non-collinear"
            isOptional: true
    exclusions:
        - [parameters.spinPolarization, parameters.spinOrbitCoupling]
    config:
        categories:
            tier1:
                slug: pb
                name: physics-based
            tier2:
                slug: qm
                name: quantum-mechanical
            tier3:
                slug: dft
                name: density functional theory
            type:
                slug: ksdft
                name: Kohn-Sham DFT
            subtype:
                slug: hybrid
                name: Hybrid functional
        tags:
            - density functional theory
        schema: !esse "models-directory/hybrid"
